<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.11.0/qs.min.js" integrity="sha512-/l6vieC+YxaZywUhmqs++8uF9DeMvJE61ua5g+UK0TuHZ4TkTgB1Gm1n0NiA86uEOM9JJ6JUwyR0hboKO0fCng==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="/workBookPython.css"/>

    <script>
        function goToSolution(element) {
            var quizNum = element.parentNode.children[0].innerText; // 문제번호
            var userId = JSON.parse(localStorage.getItem('UserInfo')).userid;
            //console.log();
            console.log(` quizNum 찍힌나 ${quizNum}`);
            console.log(` userId 찍힌나 ${userId}`);
            axios({
                url: 'web/solution',
                method: 'GET',
                baseURL: `http://220.67.231.91:80`,
            }).then((res) => {
                //location.href = `http://220.67.231.91:80/web/solution?quizNum=${quizNum}&userId=${userId}`;
                location.href = `http://220.67.231.91:80/web/solution/${quizNum}/${userId}`;
            }).catch(error=>{
                console.log(`solution 페이지 가기 실패 ${error}`);
                throw new Error(error);
            })
        }
    </script>
</head>
<body>
    
    
    <div id="container">
        <!-- 맨위 왼쪽의 로고와 오른쪽의 메뉴들을 담는 topcontainer -->
        <div id="topLongContainer" class="bg_cont">
            
            <div id="topLongContainerInnerLeftLogoImg" class="bg_cont">
                <img id="topLongContainerInnerLeftLogoImg_Img" src="/webimg/HSC_mini.png"/>
            </div>
            <!--topLongContainerInnerLeftLogoImg 끝-->
            <!-- 맨위 오른쪽 메뉴들 (홈페이지, 로그인/회원가입 , 학습 , 메뉴 등-->
            <div id="topLongContainerInnerRightMenuList" class="bg_cont">
                <a href="http://220.67.231.91:80/web/introduce">홈페이지</a>
                <a href="http://220.67.231.91:80/web/market">제휴 스토어</a>
                <a href="http://220.67.231.91:80/web/menuList" id="learning">학습</a>
                <a href="http://220.67.231.91:80/web/mypage" id="myPage">My page</a>
            </div>
            <!--topLongContainerInnerRightMenuList 끝-->
        </div>
        <!-- topLongContainer 끝 -->

        <div id="contentsContainer">

            <!--문제, 문제집, 채점현황, 강의 메뉴들-->
            <div id="topText">
                <div id="topTextRightMenu">
                    <a href="#" id="workbook">문제집</a>
                    <a href="http://220.67.231.91:80/web/video">강의</a>
                </div>
            </div>
            <!--topText 끝-->

            <div id="workbookContainer">
                <div id="menuTitle">
                    <p id="number">번호</p> <p id="title">제목</p> <p id="progress">해결</p>
                </div>

                <!--문제 리스트-->
                <div class="workbookSemiContainer">
                    <table>
                        <% for(var i=0; i<quizInfo.length; i++) { %>
                        <tr>
                            <td>
                                
                                <div id="workbookSpace">
                                    <p id="_number"><%=quizInfo[i].quizNum%></p>
                                    <a id="workbook_div" onclick="goToSolution(this)">
                                        <p id="_title"><%=quizInfo[i].title%></p>
                                        <p><%=quizInfo[i].kind%></p>
                                    </a>
                                    <!--해결 checkbox-->
                                    <input type="checkbox" name="complete">
                                </div>
                                
                            </td>
                        </tr>
                        <% } %>
                    </table>
                </div>
            </div>
            <!-- videoContainer 끝 -->
        </div> 
        <!--contentsContainer 끝-->
    </div>
    <!--container 끝-->
</body>

<script>
    document.getElementById("myPage").href = document.getElementById("myPage").href + '/' + `${JSON.parse(localStorage.getItem('UserInfo')).userid}`;
</script>

</html>